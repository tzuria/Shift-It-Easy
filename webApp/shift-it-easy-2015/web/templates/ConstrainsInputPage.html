<h<html>
<head>
   <link rel="stylesheet" type="text/css" href="../static/css/CSSstyle.css" />
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
   <title>Shift It Easy | Manager main page</title>

   <style>
      .CSSTableGenerator1 td#cell{
         padding-right: 80px;
         padding-top: 80px;
      }
   </style>

   <!--very important!-->
   <script>

      function constrain()
      {
         var date, employee, type, kind, notes;
      };

      var constrainArr = [];
      //var Notes = [];
      var flag=0 ;

      for (var i=0; i<42; i++)
      {
         constrainArr.push(new constrain( new Date(), $('.header').find("span").text()) ,null , 0 , null);
      }

      //cell change color by click
      $(document).ready(function()
      {
         var status = 0;
         $(function() {
            $('td#cell').click(function () {

               if (status % 4 == 0 &&flag==0) {
                  $(this).css('background', '#ffff00')//Yellow
                  status++
               }
               else if (status % 4 == 1 &&flag==0) {
                  $(this).css('background', '#FF0000')//red
                  status++;
               }
               else if (status % 4 == 2 &&flag==0) {
                  $(this).css('background', '#00FF00')//green
                  status++;
               }
               else if (status % 4 == 3 &&flag==0) {
                  $(this).css('background', '#ffffff')//white
                  status++;
               }
               flag=0;
               add_constrine(this);

            });
         });
      });


      //add constrine to constrainArr [obj constrine]
      var add_constrine = function(obj)
      {
         $(function () {
            var table1 = document.getElementById("table1");
            var table2 = document.getElementById("table2");
            var table = $(obj).parent().parent().parent().parent()
            if (table != null) {
               if (table === table1)
               {
                  constrainArr[obj.cellIndex].kind = obj.css("background");
                  constrainArr[obj.cellIndex].notes = NeteFunc();
                  alert(constrainArr[1].notes);
               }
               else {
                  constrainArr[obj.cellIndex + 21].kind = obj.css("background");
                  constrainArr[obj.cellIndex +21].notes = NeteFunc();
               }

            }
         })
      }
      //translate color to type.. "0"-don't matter white by defult 
      var mapColorsToTypes = function ()
      {
         switch(color){
            case '#FFFF00': return 2;//Yellow
               break;
            case '#FF0000': return 3;//Red
               break;
            case '#00FF00': return 1;//Green
               break;
            case '#FFFFFF': return 1;//White
               break;
         }
      }

      function NeteFunc() {

         note=true;
         var shiftNote = prompt("Please enter your Note", "");



         flag++;
         return shiftNode;
      }
/*
      $(function save_table()
      {
         var colorArray = [];
         $('td').each(function () {
            var color = $(this).css('backgroundColor');
            colorArray.push(color);
         });
         $.ajax({
            url:'/save_constrains',
            type:'POST',
            dataType:'json',
            data:{colors:colorArray},
            success:function(data, status, xhr) {
               alert("constrain has successfully saved");
            },
            error:function(xhr, status, error) {
               alert("constrain failed!");
               alert(xhr.responseText);
               console.error(xhr, status, error);
            }
         });
      });
*/
      
   </script>
</head>
<body>
<div id="header">
   <h1><center> Shift It Easy </center></h1>
   <h3><center> Welcome <span id ='userName'> {{userName}} </span>  </center></h3><br>
   <img src="../static/image/logo.jpg" style="width:150px;height:150px">
</div>
<div class="CSSTableGenerator">
   <table>
      <tr>
         <td width="9%">    </td>
         <td width="13%">Sunday</td>
         <td width="13%">Monday</td>
         <td width="13%">Tuesday</td>
         <td width="13%">Wednesday</td>
         <td width="13%">Thursday</td>
         <td width="13%">Friday</td>
         <td width="13%">Saturday</td>
      </tr>
   </table>
</div>
<div class="CSSTableGenerator1">
   <table id="table1">
      <tr>
         <td width="9%">    </td>
         <td width="13%"><span id ='sunday'> {{sunday0}} </span></td>
         <td width="13%"><span id ='monday'> {{monday0}} </span></td>
         <td width="13%"><span id ='monday'> {{tuesday0}} </span></td>
         <td width="13%"><span id ='monday'> {{wednesday0}} </span></td>
         <td width="13%"><span id ='monday'> {{thursday0}} </span></td>
         <td width="13%"><span id ='monday'> {{friday0}} </span></td>
         <td width="13%"><span id ='monday'> {{saturday0}} </span></td>
      </tr>
      <tr>
         <td>night</td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>      </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>      </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>      </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>      </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>      </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>      </td>
      </tr>
      <tr>
         <td>morning</td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
      </tr>
      <tr>
         <td>noon</td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>

      </tr>
   </table>
   <table id="table2">
      <tr>
         <td width="9%">    </td>
         <td width="13%"><span id ='monday'> {{sunday1}} </span></td>
         <td width="13%"><span id ='monday'> {{monday1}} </span></td>
         <td width="13%"><span id ='monday'> {{tuesday1}} </span></td>
         <td width="13%"><span id ='monday'> {{wednesday1}} </span></td>
         <td width="13%"><span id ='monday'> {{thursday1}} </span></td>
         <td width="13%"><span id ='monday'> {{friday1}} </span></td>
         <td width="13%"><span id ='monday'> {{saturday1}} </span></td>
      </tr>
      <tr>
         <td>night</td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>


      </tr>
      <tr>
         <td>morning</td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
      </tr>
      <tr>
         <td>noon</td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
         <td id='cell'><button onclick="NeteFunc()">Notes</button>     </td>
      </tr>
   </table>
</div>
<br><br>
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<button class = "btn" onclick="alert('Schedule has been saved!')"> Save</button>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<button class = "btn" onclick="alert('Constrains have been submitted!')"> Submit</button>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<button class = "btn" onclick="location.href='MainEmployee'"> Back</button>
<br>
</div>
</div>

</body>
</html>
